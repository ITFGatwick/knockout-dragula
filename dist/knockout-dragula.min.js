!function(e,t){if("function"==typeof define&&define.amd)define(["exports","knockout","dragula"],t);else if("undefined"!=typeof exports)t(exports,require("knockout"),require("dragula"));else{var a={exports:{}};t(a.exports,e.ko,e.dragula),e.knockoutDragula=a.exports}}(this,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){var t=o["default"].utils.unwrapObservable(e())||{},a={data:t.data||e()};return i.forEach(function(e){t.hasOwnProperty(e)&&(a[e]=t[e])}),a}function d(e,t,a){var n=o["default"].dataFor(e),r=o["default"].utils.domData.get(a,l),d=r.indexOf(n),u=o["default"].utils.domData.get(t,l),i=Array.prototype.indexOf.call(t.children,e);e.remove(),r.splice(d,1),u.splice(i,0,n)}var o=n(t),u=n(a),i=["afterAdd","afterRender","as","beforeRemove","includeDestroyed"],l="ko_dragula_list";o["default"].bindingHandlers.dragula={init:function(e,t,a,n,i){var f=r(t);o["default"].utils.domData.set(e,l,f.data),o["default"].bindingHandlers.foreach.init(e,function(){return f},a,n,i);var s=u["default"]([e]);return s.on("drop",d),o["default"].utils.domNodeDisposal.addDisposeCallback(e,function(){s.destroy()}),{controlsDescendantBindings:!0}},update:function(e,t,a,n,d){var u=r(t);o["default"].utils.domData.set(e,l,u.data),o["default"].bindingHandlers.foreach.update(e,function(){return u},a,n,d)}}});