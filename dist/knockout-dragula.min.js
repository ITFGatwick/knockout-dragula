!function(e,a){if("function"==typeof define&&define.amd)define(["exports","knockout","dragula"],a);else if("undefined"!=typeof exports)a(exports,require("knockout"),require("dragula"));else{var t={exports:{}};a(t.exports,e.ko,e.dragula),e.knockoutDragula=t.exports}}(this,function(e,a,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){var a=u["default"].unwrap(e())||{},t={data:a.data||e()};return f.forEach(function(e){a.hasOwnProperty(e)&&(t[e]=a[e])}),t}function d(e,a,t){var n=c[a];n?n.containers.push(e):n=c[a]=i(e,t),u["default"].utils.domNodeDisposal.addDisposeCallback(e,function(){var t=n.containers.indexOf(e);n.containers.splice(t,1),n.containers.length||(n.destroy(),c[a]=null)})}function i(e,a){var t=l["default"]([e],{invalid:u["default"].bindingHandlers.dragula.invalidTarget});return t.on("drop",o.bind(t,a)),t}function o(e,a,t,n){var r=u["default"].dataFor(a),d=u["default"].utils.domData.get(n,s),i=d.indexOf(r),o=u["default"].utils.domData.get(t,s),l=Array.prototype.indexOf.call(t.children,a);a.parentElement.removeChild(a),d.splice(i,1),o.splice(l,0,r),e.afterMove&&e.afterMove(r,i,d,l,o)}var u=n(a),l=n(t),f=["afterAdd","afterRender","as","beforeRemove"],s="ko_dragula_list",c={};u["default"].bindingHandlers.dragula={invalidTarget:function(e){return"BUTTON"===e.tagName||"A"===e.tagName},init:function(e,a,t,n,o){var l=u["default"].utils.unwrapObservable(a())||{},f=r(a);return u["default"].utils.domData.set(e,s,f.data),u["default"].bindingHandlers.foreach.init(e,function(){return f},t,n,o),l.group?d(e,l.group,l):!function(){var a=i(e,l);u["default"].utils.domNodeDisposal.addDisposeCallback(e,function(){a.destroy()})}(),{controlsDescendantBindings:!0}},update:function(e,a,t,n,d){var i=r(a);u["default"].utils.domData.set(e,s,i.data),u["default"].bindingHandlers.foreach.update(e,function(){return i},t,n,d)}}});