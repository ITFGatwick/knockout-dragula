!function(e,t){if("function"==typeof define&&define.amd)define(["exports","knockout","dragula"],t);else if("undefined"!=typeof exports)t(exports,require("knockout"),require("dragula"));else{var a={exports:{}};t(a.exports,e.ko,e.dragula),e.knockoutDragula=a.exports}}(this,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){var t=i["default"].utils.unwrapObservable(e())||{},a={data:t.data||e()};return s.forEach(function(e){t.hasOwnProperty(e)&&(a[e]=t[e])}),a}function o(e,t){var a=c[t];a?a.containers.push(e):a=c[t]=u(e),i["default"].utils.domNodeDisposal.addDisposeCallback(e,function(){var n=a.containers.indexOf(e);a.containers.splice(n,1),a.containers.length||(a.destroy(),c[t]=null)})}function u(e){var t=l["default"]([e]);return t.on("drop",d),t}function d(e,t,a){var n=i["default"].dataFor(e),r=i["default"].utils.domData.get(a,f),o=r.indexOf(n),u=i["default"].utils.domData.get(t,f),d=Array.prototype.indexOf.call(t.children,e);e.remove(),r.splice(o,1),u.splice(d,0,n)}var i=n(t),l=n(a),s=["afterAdd","afterRender","as","beforeRemove","includeDestroyed"],f="ko_dragula_list",c={};i["default"].bindingHandlers.dragula={init:function(e,t,a,n,d){var l=i["default"].utils.unwrapObservable(t())||{},s=r(t);return i["default"].utils.domData.set(e,f,s.data),i["default"].bindingHandlers.foreach.init(e,function(){return s},a,n,d),l.group?o(e,l.group):!function(){var t=u(e);i["default"].utils.domNodeDisposal.addDisposeCallback(e,function(){t.destroy()})}(),{controlsDescendantBindings:!0}},update:function(e,t,a,n,o){var u=r(t);i["default"].utils.domData.set(e,f,u.data),i["default"].bindingHandlers.foreach.update(e,function(){return u},a,n,o)}}});