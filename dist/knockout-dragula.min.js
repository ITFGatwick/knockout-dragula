!function(e,t){if("function"==typeof define&&define.amd)define(["exports","knockout","dragula"],t);else if("undefined"!=typeof exports)t(exports,require("knockout"),require("dragula"));else{var a={exports:{}};t(a.exports,e.ko,e.dragula),e.knockoutDragula=a.exports}}(this,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){var t=i["default"].utils.unwrapObservable(e())||{},a={data:t.data||e()};return s.forEach(function(e){t.hasOwnProperty(e)&&(a[e]=t[e])}),a}function o(e,t,a){var n=c[t];n?n.containers.push(e):n=c[t]=u(e,a),i["default"].utils.domNodeDisposal.addDisposeCallback(e,function(){var a=n.containers.indexOf(e);n.containers.splice(a,1),n.containers.length||(n.destroy(),c[t]=null)})}function u(e,t){var a=l["default"]([e]);return a.on("drop",d.bind(a,t)),a}function d(e,t,a,n){var r=i["default"].dataFor(t),o=i["default"].utils.domData.get(n,f),u=o.indexOf(r),d=i["default"].utils.domData.get(a,f),l=Array.prototype.indexOf.call(a.children,t);t.parentElement.removeChild(t),o.splice(u,1),d.splice(l,0,r),e.afterMove&&e.afterMove(r,u,o,l,d)}var i=n(t),l=n(a),s=["afterAdd","afterRender","as","beforeRemove"],f="ko_dragula_list",c={};i["default"].bindingHandlers.dragula={init:function(e,t,a,n,d){var l=i["default"].utils.unwrapObservable(t())||{},s=r(t);return i["default"].utils.domData.set(e,f,s.data),i["default"].bindingHandlers.foreach.init(e,function(){return s},a,n,d),l.group?o(e,l.group,l):!function(){var t=u(e,l);i["default"].utils.domNodeDisposal.addDisposeCallback(e,function(){t.destroy()})}(),{controlsDescendantBindings:!0}},update:function(e,t,a,n,o){var u=r(t);i["default"].utils.domData.set(e,f,u.data),i["default"].bindingHandlers.foreach.update(e,function(){return u},a,n,o)}}});